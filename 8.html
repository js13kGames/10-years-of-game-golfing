<input onchange="with(new FileReader)readAsArrayBuffer(files[0]),onload=s=>{P(new Uint8Array(result))}"type=file><p><canvas id=C width=64 height=32 style=width:4in;height:2in></canvas><div id=k><script>for(i in K="123C456D789EA0BF")k.innerHTML+=(i%4?"":"<br>")+`<button style=width:2em onmousedown=K[0x${K[i]}]=1 onmouseup=K[0x${K[i]}]=0>`+K[i];K=[],P=(R,D,A,O,i,M,S,e,f,I,T,s,h,d,_,o,l,p,m,n,N,X,Y,a,b,v,j,x,y)=>{for(D=(C=C.getContext("2d")).createImageData(64,32),i=8192;i--;)D.data[i]=i%4-3?0:255;for(A=new AudioContext,M=[],i=80;i--;)M[i]=eval("0x"+"F999F26227F1F8FF1F1F99F11F8F1FF8F9FF1244F9F9FF9F1FF9F99E9E9EF888FE999EF8F8FF8F88"[i]+"0");for(V=new Uint8Array(new ArrayBuffer(16)),S=[],e=512,f=0,I=0,T=0,s=0,i=R.length;i--;)M[i+512]=R[i];l=setInterval((()=>{for(T&&T--,s&&s--,A&&s&&!O&&((O=A.createOscillator()).connect(A.destination),O.start(0)),A&&!s&&O&&(O.stop(0),O=0),d=4;d--;){if(o=M[e]<<8|M[e+1],p=o>>12,m=4095&o,n=255&o,N=15&o,X=o>>8&15,a=V[X],b=V[o>>4&15],224==o)for(i=8192;i--;)D.data[i]=i%4-3?0:255;if(238==o&&(e=S.pop()),1==p&&(e=m-2),2==p&&(S.push(e),e=m-2),(3==p&&a==n||4==p&&a!=n||5==p&&a==b||9==p&&a!=b||14==p&&(158==n&&K[a]||161==n&&!K[a]))&&(e+=2),6==p&&(V[X]=n),7==p&&(V[X]=a+n),8==p&&(N||(V[X]=b),1==N&&(V[X]|=b),2==N&&(V[X]&=b),3==N&&(V[X]^=b),4==N&&(V[15]=+((V[X]+=b)>255)),5==N&&(V[15]=+((V[X]-=b)>=0)),6==N&&(V[15]=1&a,V[X]/=2),7==N&&(V[15]=+((V[X]=b-a)>=0)),14==N&&(V[15]=a>>7,V[X]*=2)),10==p&&(I=m),11==p&&(e=m+V[0]),12==p&&(V[X]=Math.floor(Math.random()*n)),13==p)for(V[15]=0,i=N;i--;)for(j=8;j--;)v=M[I+i]>>7-j&1,x=a+j,y=b+i,v&&(x>63&&(x-=63),y>31&&(y-=31),_=4*(64*y+x)+3,D.data[_]?D.data[_]=0:(D.data[_]=255,V[15]=1));if(15==p){if(7==n&&(V[X]=T),10==n&&(~(V[X]=K.indexOf(!0))||(e-=2)),21==n&&(T=a),24==n&&(s=a),30==n&&(I+=a,V[15]=+(I>4095),I&=4095),41==n&&(I=5*a),51==n)for(i=3;i--;)M[I+i]=(""+a)[i];if(85==n)for(i=X;i--;)M[I+i]=V[i];if(101==n)for(i=X;i--;)V[i]=M[I+i]}e+=2}C.putImageData(D,0,0)}),16)}</script>